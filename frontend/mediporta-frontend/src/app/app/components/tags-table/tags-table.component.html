<div class="controls">
  <button (click)="refresh()">ðŸ”„ Refresh tags</button>
  <label style="margin-left:16px">
    Page size:
    <select [(ngModel)]="pageSize" (change)="loadTags()">
      <option *ngFor="let n of [10,20,50,100]" [value]="n">{{n}}</option>
    </select>
  </label>
</div>

<table class="tags-table">
  <thead>
    <tr>
      <th (click)="toggleSort('name')">Name {{ sortBy==='name' ? (ascending ? 'â–²':'â–¼') : '' }}</th>
      <th (click)="toggleSort('percentage')">Percentage {{ sortBy==='percentage' ? (ascending ? 'â–²':'â–¼') : '' }}</th>
      <th (click)="toggleSort('count')">Count {{ sortBy==='count' ? (ascending ? 'â–²':'â–¼') : '' }}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngIf="loading"><td colspan="3">Loading...</td></tr>
    <tr *ngIf="!loading && tags.length===0"><td colspan="3">No data to display</td></tr>
    <tr *ngFor="let t of tags">
      <td>{{ t.name }}</td>
      <td>{{ t.percentage | number:'1.4-4' }}%</td>
      <td>{{ t.count }}</td>
    </tr>
  </tbody>
</table>

<div class="pagination">
  <button (click)="prevPage()" [disabled]="pageNumber<=1">Previous</button>
  <span style="margin:0 12px">Page {{pageNumber}}</span>
  <button (click)="nextPage()">Next</button>
</div>
